:root {
  --gap: 2rem;
  --max-width: 1200px;
  --padding: 1.5rem;
}

/* Center & constrain the app */
.app {
  max-width: var(--max-width);
  margin: 0 auto;
  padding: var(--padding);
  user-select: none;
}

/* Heading */
h1 {
  text-align: center;
}

/* 3-column layout at desktop, single column on mobile */
.mainContent {
  display: grid;
  grid-template-columns: 1fr 2fr 1fr;
  grid-template-areas: "left main right";
  gap: var(--gap);
  margin-top: var(--gap);
}

/* Named grid-areas */
.leftPanel {
  grid-area: left;
  display: flex;
  flex-direction: column;
  gap: var(--gap);
}

.middleContent {
  grid-area: main;
  display: flex;
  flex-direction: column;
  gap: var(--gap);
}

.rightPanel {
  grid-area: right;
  display: flex;
  flex-direction: column;
  gap: var(--gap);
}

/* turn leftPanel horizontal at desktop */
@media (min-width: 768px) {
  .leftPanel {
    flex-direction: row;
  }
}

/* collapse into one column below 768px */
@media (max-width: 767px) {
  .mainContent {
    grid-template-columns: 1fr;
    grid-template-areas:
      "left"
      "main"
      "right";
  }

  /* breathing room above middle/right */
  .leftPanel,
  .rightPanel {
    margin-top: var(--gap);
  }

  /*
    Now make the leftPanel wrap:
    - First child (tonic) goes full width on its own row
    - Second + third children (scale & chord) share the next row, each 50%
  */
  .leftPanel {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: var(--gap);
  }

  /* TonicSelectionPanel spans 100% */
  .leftPanel > :nth-child(1) {
    flex: 0 0 100%;
  }

  /* ScaleType & ChordType each take half width */
  .leftPanel > :nth-child(2),
  .leftPanel > :nth-child(3) {
    flex: 1 1 calc(50% - var(--gap)/2);
  }
}